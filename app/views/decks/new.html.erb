<div id="container" ng-controller='LiveSearchController' class="section">
  <nav>
    <div class="nav-wrapper">
      <%= form_for(:query, method: :get) do |f| %>
        <div class="input-field">
          <%= f.search_field :name, "ng-change" =>"change(text)", "ng-model" => "search" %>
          <label for="search"><i class="mdi-action-search"></i></label>
          <i class="mdi-navigation-close"></i>
        </div>
      <% end %>
    </div>
  </nav>

  <div class="row section">
    <div id="test1" class="col s12 l4 section">
      <h5 class="center-align">Resultados</h5>
      <ul class="collapsible" data-collapsible="accordion">
        <li ng-repeat="entry in entries" class="search-result">
          <div class="collapsible-header">
            <span>
              {{entry.portuguese_name}}
            </span>
            <span class="secondary-content">
              {{entry.price}}
            </span>
          </div>
          <div class="collapsible-body">
            {{entry.original_text}}
            <form class="valign-wrapper" ng-controller="DeckBuilderController" ng-submit="addCardToDeck()">
              <div class="input-field col s4">
                <select class="browser-default" ng-model="copies">
                  <option value="0">0</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                </select>
              </div>
              <input class="btn input-field col s3" name="commit" type="submit" value="add" />
            </form>
          </div>
        </li>
      </ul>
    </div>

    <div class="col s12 l2 section">
      <h5 class="center-align">Initial Hand</h5>
      <ul class="collection">
        <li class="collection-item" ng-repeat="card in first_hand track by $index">
          {{ card }}
        </li>
      </ul>
    </div>
    <div class="col s12 l2 section">
      <h5 class="center-align">Deck List</h5>
      <ul class="collection with-header">
        <li class="collection-header">Total cards: {{ deck_size }}</li>
        <li class="collection-item" ng-repeat="card in deck_list">
        {{ card.copies}}
        <span class="secondary-content">{{ card.name }}</span>
        </li>
      </ul>
    </div>

    <div class="col s12 l2 section" ng-controller="ManaChartController">
      <h5 class="center-align">Manacost</h5>
      <canvas class="chart chart-bar" data="data" labels="labels"></canvas>
    </div>

    <div class="col s12 l2 section" ng-controller="ColorChartController">
      <h5 class="center-align">Colors</h5>
      <canvas class="chart chart-pie" data="data" labels="labels" colours="colors"></canvas>
    </div>

    <div class="col s12 l2 section" ng-controller="TypeChartController">
      <h5 class="center-align">Types</h5>
      <canvas class="chart chart-pie" data="data" labels="labels"></canvas>
    </div>
  </div>
</div>
